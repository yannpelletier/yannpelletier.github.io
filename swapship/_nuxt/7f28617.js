(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{431:function(t,e,o){"use strict";o.r(e);o(25),o(54),o(55);var n=o(471),r=o(459),l=o(26),c=o(29),d=o(98),v=o(8),h={name:"StakingPool",components:{NumberProportionField:n.default,StakingPoolTokensVisual:r.default},props:{pool:{type:Object,default:function(){return{}}}},data:function(){return{stake:new v("0").shiftedBy(this.pool.token.decimals).toString(),unstake:new v("0").shiftedBy(this.pool.token.decimals).toString(),multiplierRarityMap:{1:{multiplierColor:"rgb(0,1,29)"},2:{headerColor:"#004564",multiplierColor:"#004e7c"},5:{headerColor:"#350000",multiplierColor:"#600000"},10:{headerColor:"#635F44",multiplierColor:"rgba(99,95,68,1)"}}}},computed:{PoolType:function(){return d.a},headerStyle:function(){var t=this.multiplierRarityMap[this.pool.multiplier];return t&&t.headerColor?{background:"linear-gradient(90deg, ".concat(t.headerColor," 0%, rgba(30,32,37,1) 40%)")}:{}},loaderStyle:function(){var t=this.multiplierRarityMap[this.pool.multiplier];return t&&t.headerColor?{"background-image":"-webkit-linear-gradient(\n            top left,\n            ".concat(t.headerColor,"00 0%,\n            ").concat(t.headerColor,"00 45%,\n            ").concat(t.headerColor,"24 48%,\n            ").concat(t.headerColor,"44 50%,\n            ").concat(t.headerColor,"24 52%,\n            ").concat(t.headerColor,"00 57%,\n            ").concat(t.headerColor,"00 100%\n          )"),"background-size":"1000px 1000px"}:{}},hasBalance:function(){return new v(this.pool.tokenBalance).isGreaterThan(0)},hasStaked:function(){return new v(this.pool.tokenStaked).isGreaterThan(0)},hasClaimable:function(){return new v(this.pool.claimableValue).isGreaterThan(0)},formattedTicker:function(){return this.pool.type===d.a.LIQUIDITY?"LP":this.pool.tokenTicker},formatValue:function(){return function(t,e){return new v(t).shiftedBy(-e).toPrecision(3).toString()}},formatPrice:function(){return function(t,e){return"$".concat(new v(t).toFormat(e))}},stakeInputUnderApprovedAmount:function(){var t=new v(this.pool.tokenApproved);return new v(this.stake).isLessThan(t)},stakeInputZero:function(){return new v(this.stake).isEqualTo(0)},unstakeInputZero:function(){return new v(this.unstake).isEqualTo(0)},stakedValueStr:function(){if(this.hasStaked){var t=new v(this.pool.tokenStaked).shiftedBy(-this.pool.token.decimals).toFormat(6).toString();return"".concat(t," ").concat(this.formattedTicker)}return"N/A"},multiplerColor:function(){var t=this.multiplierRarityMap[this.pool.multiplier];return t?t.multiplierColor:null}},mounted:function(){this.injectShineAnimation()},methods:{injectShineAnimation:function(){var t=8500*Math.random()+5500;this.$refs.loader&&this.$refs.loader.$el.animate([{backgroundRepeat:"no-repeat",backgroundPosition:"-2000px -2000px"},{backgroundRepeat:"no-repeat",backgroundPosition:"3000px 2000px"}],{duration:t,iterations:1/0})},approvePool:function(){l.a.dispatch("approvePool",this.pool)},stakeInPool:function(){l.a.dispatch("stakeInPool",{pool:this.pool,amount:this.stake})},withdrawAndClaimAll:function(){l.a.dispatch("withdrawAndClaimRewards",{pool:this.pool,amount:this.pool.tokenStaked})},withdrawAndClaimRewards:function(){l.a.dispatch("withdrawAndClaimRewards",{pool:this.pool,amount:this.unstake})},claimRewards:function(){l.a.dispatch("withdrawAndClaimRewards",{pool:this.pool,amount:0})},reloadFailedData:function(){this.$store.dispatch("updateData",c.a.Failed)},openGetLink:function(){l.a.dispatch("openGetLink",this.pool)}}},m=(o(496),o(69)),f=o(62),k=o.n(f),_=o(442),w=o(408),C=o(181),y=o(418),x=o(515),S=o(516),T=o(517),V=o(409),P=o(265),A=o(420),I=o(483),z=o(421),L=o(526),component=Object(m.a)(h,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-expansion-panel",{staticClass:"pool-header",style:t.headerStyle},[o("v-skeleton-loader",{ref:"loader",style:t.loaderStyle,attrs:{loading:t.pool.isLoading,type:"card",height:"120",transition:"fade-transition"}},[t.pool.isError?o("v-expansion-panel-header",[o("v-spacer"),t._v(" "),o("v-col",{attrs:{cols:"auto"}},[o("v-row",{staticClass:"mb-2"},[t._v(" Failed to load some pool data ")]),t._v(" "),o("v-row",[o("v-btn",{on:{click:t.reloadFailedData}},[t._v(" Attempt to reload ")])],1)],1),t._v(" "),o("v-spacer")],1):o("v-expansion-panel-header",{staticClass:"pt-8 pb-5",class:{"pool-irrelevant":!t.hasClaimable}},[o("v-row",[o("v-col",{staticClass:"text-center",attrs:{cols:"12",md:"3",order:"1","order-md":"2"}},[o("v-row",{staticClass:"font-weight-medium title"},[t._v("\n            "+t._s(t.pool.name)+"\n            "),t.pool.multiplier>0?o("v-card",{staticClass:"mx-2 title",attrs:{color:t.multiplerColor,width:"45",height:"30"}},[t._v("\n              x"+t._s(t.pool.multiplier)+"\n            ")]):t._e()],1),t._v(" "),t.pool.type===t.PoolType.LIQUIDITY?o("v-row",{staticClass:"subheading font-weight-light"},[t._v("\n            "+t._s(t.pool.token.exchange.name)+" Liquidity\n          ")]):t._e()],1),t._v(" "),o("v-col",{attrs:{cols:"12",md:"3",order:"2","order-md":"1"}},[o("staking-pool-tokens-visual",{attrs:{token:t.pool.token,rewards:t.pool.rewards}})],1),t._v(" "),o("v-col",{staticClass:"text-center",attrs:{cols:"12",sm:"3",md:"2",order:"3"}},[o("v-row",{staticClass:"font-weight-light pool-header-title"},[t._v("\n            Staked Value\n          ")]),t._v(" "),o("v-row",{staticClass:"font-weight-medium title"},[t._v("\n            "+t._s(t.formatPrice(t.pool.stakedValue,1))+"\n          ")]),t._v(" "),o("v-row",{staticClass:"font-weight-light"},[t._v("\n            of "+t._s(t.formatPrice(t.pool.totalStakedValue,1))+"\n          ")])],1),t._v(" "),o("v-col",{staticClass:"text-center",attrs:{cols:"12",sm:"3",md:"2",order:"4"}},[o("v-row",{staticClass:"font-weight-light pool-header-title"},[t._v("\n            Claimable Value\n            "),o("v-tooltip",{attrs:{top:"",color:"accent","max-width":"400"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,r=e.attrs;return[o("v-btn",t._g(t._b({staticClass:"mx-2",attrs:{icon:"",height:"15",width:"15"}},"v-btn",r,!1),n),[o("v-icon",{attrs:{color:"grey lighten-1",size:"15"}},[t._v("\n                    mdi-information\n                  ")])],1)]}}],null,!1,2681119292)},[t._v(" "),o("v-col",t._l(t.pool.rewards,(function(e,n){return o("v-row",{key:n},[o("v-avatar",{staticClass:"mx-1",attrs:{size:20}},[o("v-img",{attrs:{src:e.token.image,eager:""}})],1),t._v("\n                  "+t._s(e.tokenTicker)+"\n                  :\n                  "+t._s(t.formatPrice(e.claimableValue,4))+"\n                ")],1)})),1)],1)],1),t._v(" "),o("v-row",{staticClass:"font-weight-medium title"},[t._v("\n            "+t._s(t.formatPrice(t.pool.claimableValue,2))+"\n          ")])],1),t._v(" "),t.pool.isActive?o("v-col",{staticClass:"text-center",attrs:{cols:"12",sm:"3",md:"2",order:"5"}},[o("v-row",{staticClass:"font-weight-light pool-header-title"},[t._v("\n            APY (unstable)\n          ")]),t._v(" "),o("v-row",{staticClass:"font-weight-medium title"},[t._v(" "+t._s(t.pool.apy)+"% ")])],1):t._e()],1)],1)],1),t._v(" "),t.pool.isError?t._e():o("v-expansion-panel-content",{attrs:{color:"#2a3141"}},[o("v-row",[t.pool.isActive?[o("v-col",{staticClass:"py-6",attrs:{cols:"12",md:"6"}},[t.hasBalance?[o("number-proportion-field",{staticClass:"px-10",attrs:{max:t.pool.tokenBalance,decimals:t.pool.token.decimals,label:"Stakeable",unit:t.formattedTicker},model:{value:t.stake,callback:function(e){t.stake=e},expression:"stake"}}),t._v(" "),o("v-row",{staticClass:"vh-center"},[t.pool.type===t.PoolType.LIQUIDITY?o("v-btn",{staticClass:"mx-2",attrs:{color:"primary"},on:{click:t.openGetLink}},[t._v("\n                Get LP Tokens\n                "),o("v-avatar",{staticClass:"ml-2",attrs:{size:"20"}},[o("v-img",{attrs:{src:t.pool.token.exchange.image,eager:""}})],1)],1):t._e(),t._v(" "),t.pool.type===t.PoolType.VAULT?o("v-btn",{staticClass:"mx-2",attrs:{color:"primary"},on:{click:t.openGetLink}},[t._v("\n                Buy on Uniswap\n                "),o("v-avatar",{staticClass:"ml-2",attrs:{size:"20"}},[o("v-img",{attrs:{src:t.pool.token.image,eager:""}})],1)],1):t._e(),t._v(" "),t.stakeInputUnderApprovedAmount?o("v-btn",{staticClass:"mx-2",attrs:{disabled:t.stakeInputZero,color:"primary"},on:{click:t.stakeInPool}},[t._v("\n                Stake\n              ")]):o("v-btn",{staticClass:"mx-2",attrs:{color:"primary"},on:{click:t.approvePool}},[t._v("\n                Approve\n              ")])],1)]:[o("v-card",{staticClass:"vh-center font-weight-light",attrs:{rounded:"",height:"100%","min-height":"150",color:"#00000066"}},[o("v-col",{attrs:{cols:"10"}},[o("v-row",{staticClass:"vh-center"},[t._v(" No tokens to stake ")]),t._v(" "),o("v-row",{staticClass:"vh-center"},[t.pool.type===t.PoolType.LIQUIDITY?o("v-col",{staticClass:"vh-center",attrs:{cols:"auto"}},[o("v-btn",{attrs:{color:"primary"},on:{click:t.openGetLink}},[t._v("\n                      Get LP Tokens\n                      "),o("v-avatar",{staticClass:"ml-2",attrs:{size:"20"}},[o("v-img",{attrs:{src:t.pool.token.exchange.image,eager:""}})],1)],1)],1):t._e(),t._v(" "),t.pool.type===t.PoolType.VAULT?o("v-col",{staticClass:"vh-center",attrs:{cols:"auto"}},[o("v-btn",{attrs:{color:"primary"},on:{click:t.openGetLink}},[t._v("\n                      Buy on UniSwap\n                      "),o("v-avatar",{staticClass:"ml-2",attrs:{size:"20"}},[o("v-img",{attrs:{src:t.pool.token.image,eager:""}})],1)],1)],1):t._e(),t._v(" "),t.stakeInputUnderApprovedAmount?t._e():o("v-col",{staticClass:"vh-center",attrs:{cols:"auto"}},[o("v-btn",{attrs:{color:"primary"},on:{click:t.approvePool}},[t._v("\n                      Approve\n                    ")])],1)],1)],1)],1)]],2),t._v(" "),o("v-col",{staticClass:"py-6",attrs:{cols:"12",md:"3"}},[t.hasStaked?[o("number-proportion-field",{staticClass:"px-6",attrs:{max:t.pool.tokenStaked,decimals:t.pool.token.decimals,label:"Staked",unit:t.formattedTicker},model:{value:t.unstake,callback:function(e){t.unstake=e},expression:"unstake"}}),t._v(" "),o("v-row",[o("v-spacer"),t._v(" "),o("v-btn",{attrs:{color:"primary",disabled:t.unstakeInputZero},on:{click:t.withdrawAndClaimRewards}},[t._v("\n                Unstake and claim\n              ")]),t._v(" "),o("v-spacer")],1)]:[o("v-card",{staticClass:"pa-2 font-weight-light vh-center",attrs:{rounded:"",height:"100%","min-height":"150",color:"#00000066"}},[t._v("\n              No tokens to unstake\n            ")])]],2),t._v(" "),o("v-col",{staticClass:"py-6",attrs:{cols:"12",md:"3"}},[o("v-card",{staticClass:"pa-2 vh-center",attrs:{rounded:"",height:"100%","min-height":"150",color:"#00000066"}},[t.hasClaimable?o("div",[o("div",{staticClass:"font-weight-bold"},[t._v("Rewards")]),t._v(" "),t._l(t.pool.rewards,(function(e,n){return o("div",{key:n,staticClass:"font-weight-light"},[o("v-avatar",{staticClass:"mx-1",attrs:{size:25}},[o("v-img",{attrs:{src:e.token.image,eager:""}})],1),t._v(" "),o("span",{staticClass:"font-weight-bold"},[t._v("\n                  "+t._s(t.formatValue(e.claimable,e.token.decimals))+"\n                ")]),t._v("\n                "+t._s(e.tokenTicker)+"\n                "),e.note?o("v-tooltip",{attrs:{top:"",color:"accent","max-width":"400"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,r=e.attrs;return[o("v-btn",t._g(t._b({staticClass:"mx-2",attrs:{icon:"",height:"15",width:"15"}},"v-btn",r,!1),n),[o("v-icon",{attrs:{color:"grey lighten-1",size:"15"}},[t._v("\n                        mdi-information\n                      ")])],1)]}}],null,!0)},[t._v(" "),o("v-col",[t._v("\n                    "+t._s(e.note)+"\n                  ")])],1):t._e()],1)})),t._v(" "),o("div",{staticClass:"vh-center mt-4"},[o("v-btn",{attrs:{color:"primary"},on:{click:t.claimRewards}},[t._v(" Claim ")])],1)],2):o("div",[t._v("No rewards to claim")])])],1)]:[o("v-col",{staticClass:"py-6 vh-center",attrs:{cols:"12",md:"8"}},[o("v-card",{staticClass:"pa-2 font-weight-light vh-center",attrs:{rounded:"",width:"100%",height:"100%","min-height":"150",color:"#00000066"}},[o("v-col",[o("v-row",{staticClass:"vh-center mb-3 font-weight-bold"},[t._v("\n                Staked: "+t._s(t.stakedValueStr)+"\n              ")]),t._v(" "),o("v-row",{staticClass:"vh-center mb-2"},[o("v-btn",{attrs:{color:"primary"},on:{click:t.withdrawAndClaimAll}},[t._v("\n                  Withdraw everything\n                ")])],1),t._v(" "),o("v-row",{staticClass:"vh-center"},[t._v("\n                This will also claim your rewards\n              ")])],1)],1)],1),t._v(" "),o("v-col",{staticClass:"py-6",attrs:{cols:"12",md:"4"}},[o("v-card",{staticClass:"pa-2 vh-center",attrs:{rounded:"",height:"100%","min-height":"150",color:"#00000066"}},[t.hasClaimable?o("div",[o("div",{staticClass:"font-weight-bold"},[t._v("Rewards")]),t._v(" "),t._l(t.pool.rewards,(function(e,n){return o("div",{key:n,staticClass:"font-weight-light"},[o("v-avatar",{staticClass:"mx-1",attrs:{size:25}},[o("v-img",{attrs:{src:e.token.image,eager:""}})],1),t._v(" "),o("span",{staticClass:"font-weight-bold"},[t._v("\n                  "+t._s(t.formatValue(e.claimable,e.token.decimals))+"\n                ")]),t._v("\n                "+t._s(e.tokenTicker)+"\n                "),e.note?o("v-tooltip",{attrs:{top:"",color:"accent","max-width":"400"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,r=e.attrs;return[o("v-btn",t._g(t._b({staticClass:"mx-2",attrs:{icon:"",height:"15",width:"15"}},"v-btn",r,!1),n),[o("v-icon",{attrs:{color:"grey lighten-1",size:"15"}},[t._v("\n                        mdi-information\n                      ")])],1)]}}],null,!0)},[t._v(" "),o("v-col",[t._v("\n                    "+t._s(e.note)+"\n                  ")])],1):t._e()],1)}))],2):o("div",[t._v("No rewards to claim")])])],1)]],2)],1)],1)}),[],!1,null,"65c2e007",null);e.default=component.exports;k()(component,{StakingPoolTokensVisual:o(459).default}),k()(component,{VAvatar:_.a,VBtn:w.a,VCard:C.a,VCol:y.a,VExpansionPanel:x.a,VExpansionPanelContent:S.a,VExpansionPanelHeader:T.a,VIcon:V.a,VImg:P.a,VRow:A.a,VSkeletonLoader:I.a,VSpacer:z.a,VTooltip:L.a})},435:function(t,e,o){var content=o(451);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(31).default)("0ba2bece",content,!0,{sourceMap:!1})},450:function(t,e,o){"use strict";o(435)},451:function(t,e,o){var n=o(30)(!1);n.push([t.i,".token[data-v-94eafeee]{transform:translateX(-80%) translateY(50%)}.arrow[data-v-94eafeee],.token[data-v-94eafeee]{position:absolute;left:50%;bottom:50%}.arrow[data-v-94eafeee]{transform:translateX(-50%) translateY(50%)}",""]),t.exports=n},459:function(t,e,o){"use strict";o.r(e);var n=o(77),r={name:"StakingPoolTokensVisual",props:{token:{type:Object,required:!0},rewards:{type:Array,required:!0}},computed:{pooledTokens:function(){return this.token.type===n.a.LIQUIDITY?[this.token.firstToken,this.token.secondToken]:[this.token]},avatarSize:function(){return this.$vuetify.breakpoint.mdAndUp,"45"},arrowSize:function(){return this.$vuetify.breakpoint.mdAndUp?"35":"18"},tokenStyle:function(){return function(t,e){return{transform:"translateX(-".concat(60*(t/(e-1))+20,"%) translateY(50%)")}}}}},l=(o(450),o(69)),c=o(62),d=o.n(c),v=o(442),h=o(181),m=o(418),f=o(409),k=o(265),_=o(420),component=Object(l.a)(r,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-card",{staticClass:"vh-center",attrs:{color:"transparent",flat:"",height:t.avatarSize}},[o("v-row",[o("v-col",{attrs:{cols:"5"}},[o("v-card",{attrs:{color:"transparent",flat:"",width:"100%",height:"100%"}},t._l(t.pooledTokens,(function(e,n){return o("v-avatar",{key:n,staticClass:"token",style:t.tokenStyle(n,t.pooledTokens.length),attrs:{size:t.avatarSize}},[o("v-img",{attrs:{src:e.image}})],1)})),1)],1),t._v(" "),o("v-col",{attrs:{cols:"1"}},[o("v-card",{attrs:{color:"transparent",flat:"",width:"100%",height:"100%"}},[o("v-icon",{staticClass:"arrow",attrs:{size:t.arrowSize}},[t._v("\n          mdi-arrow-right\n        ")])],1)],1),t._v(" "),o("v-col",{attrs:{cols:"5"}},[o("v-card",{attrs:{color:"transparent",flat:"",width:"100%",height:"100%"}},t._l(t.rewards,(function(e,n){return o("v-avatar",{key:n,staticClass:"token",style:t.tokenStyle(n,t.rewards.length),attrs:{size:t.avatarSize}},[o("v-img",{attrs:{src:e.token.image}})],1)})),1)],1)],1)],1)}),[],!1,null,"94eafeee",null);e.default=component.exports;d()(component,{VAvatar:v.a,VCard:h.a,VCol:m.a,VIcon:f.a,VImg:k.a,VRow:_.a})},466:function(t,e,o){var content=o(497);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(31).default)("4608a390",content,!0,{sourceMap:!1})},471:function(t,e,o){"use strict";o.r(e);o(32),o(25),o(54),o(55);var n=o(8),r={name:"NumberProportionField",props:{value:{type:String,required:!0},max:{type:String,required:!0},label:{type:String,default:null},unit:{type:String,default:null},decimals:{type:Number,default:null},color:{type:String,default:null}},data:function(){return{marks:function(t){return t%25==0&&{label:"".concat(t,"%"),labelStyle:{opacity:.01*t*.7+.3},labelActiveStyle:{color:"#3498db"}}}}},computed:{valueDecimal:function(){return new n(this.value).shiftedBy(-this.decimals).toString()},maxDecimal:function(){return new n(this.max).shiftedBy(-this.decimals).toPrecision(5).toString()},percentage:{set:function(input){var t=Math.floor(new n(this.max).multipliedBy(input/100).toNumber());this.$emit("input",input<100?t.toString():this.max)},get:function(){return new n(this.value).dividedBy(this.max).multipliedBy(100).toNumber()}}}},l=o(69),c=o(62),d=o.n(c),v=o(408),h=o(420),m=o(484),f=o(523),component=Object(l.a)(r,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[t.label||t.max||t.unit?o("v-row",{staticClass:"body-2"},[t._v("\n    "+t._s(t.label)+" "+t._s(t.label&&t.max?": ":"")+" "+t._s(t.maxDecimal)+" "+t._s(t.unit)+"\n  ")]):t._e(),t._v(" "),o("v-row",{staticClass:"mb-2"},[o("v-text-field",{attrs:{value:t.valueDecimal,filled:"",outlined:"",readonly:"","hide-details":"","single-line":""},scopedSlots:t._u([{key:"append",fn:function(){return[o("v-btn",{attrs:{width:"30",height:"30",text:""},on:{click:function(e){t.percentage=100}}},[t._v("\n          Max\n        ")])]},proxy:!0}])})],1),t._v(" "),o("v-row",[o("v-slider",{attrs:{"thumb-size":"40","track-color":"#050f26",min:0,max:100,width:"100%"},scopedSlots:t._u([{key:"thumb-label",fn:function(){return[o("span",[t._v("\n          "+t._s(Math.round(t.percentage))+"%\n        ")])]},proxy:!0}]),model:{value:t.percentage,callback:function(e){t.percentage=e},expression:"percentage"}})],1)],1)}),[],!1,null,null,null);e.default=component.exports;d()(component,{VBtn:v.a,VRow:h.a,VSlider:m.a,VTextField:f.a})},496:function(t,e,o){"use strict";o(466)},497:function(t,e,o){var n=o(30)(!1);n.push([t.i,".pool-header-title[data-v-65c2e007]{color:#c4c4c4}.pool-header[data-v-65c2e007]{background:#1f1e36;background:linear-gradient(90deg,#1f1e36,#1e2025 30%,#1e2025 50%,#1e2025 70%,#1f1f28)}",""]),t.exports=n}}]);